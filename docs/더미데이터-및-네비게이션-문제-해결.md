# 더미 데이터 및 네비게이션 문제 해결 가이드

## 문제 상황

1. **Slack 메시지에 더미 데이터 표시**
   - "17% 완료, 지연 7건, 총 12건" 같은 데이터가 Slack 메시지에 나타남
   - 이는 `/api/seed`로 생성된 테스트 데이터가 남아있기 때문

2. **네비게이션 일관성 문제**
   - 최초 접속 시 대시보드: 0건
   - 업무 클릭 시: 다른 데이터 표시
   - 다시 대시보드: 또 다른 데이터 표시

## 원인 분석

### 더미 데이터 문제
- `generateDailySummaryData()`가 `getTasks()`를 `ownerId` 없이 호출
- 결과적으로 **모든 사용자의 업무를 가져옴**
- Cron job은 인증된 사용자 정보가 없어서 전체 데이터를 포함

### 네비게이션 문제
- 대시보드와 업무 페이지가 서로 다른 데이터를 보여주는 이유:
  - 캐싱 문제 가능성
  - `useTasks` hook이 제대로 refetch하지 않을 수 있음
  - 세션 스토리지에 필터 상태가 저장되어 있어서 다르게 보일 수 있음

## 해결 방법

### 1. 더미 데이터 제거

**옵션 A: Seed 데이터 삭제 (권장)**
```bash
# API 호출로 모든 seed 데이터 삭제
curl -X DELETE https://autoflow-sepia.vercel.app/api/seed/clear
```

**옵션 B: 사용자별 필터링**
- Cron job을 사용자별로 실행하도록 수정 (향후 개선)

### 2. 네비게이션 일관성 개선

**확인 사항:**
1. 브라우저 캐시 및 세션 스토리지 클리어
2. `useTasks` hook이 페이지 이동 시 자동으로 refetch하는지 확인
3. 필터 상태가 세션 스토리지에 저장되어 있는지 확인

**해결:**
- 페이지 이동 시 자동으로 데이터 refetch
- 세션 스토리지 필터 상태 초기화 옵션 추가

## 달력 컴포넌트 추가

✅ **완료**: `/calendar` 페이지 추가
- 월간/주간 뷰 지원
- 마감일이 있는 업무를 날짜별로 표시
- 우선순위별 색상 구분

## 다음 단계

1. **더미 데이터 삭제**
   - `/api/seed/clear` API 호출하여 테스트 데이터 제거
   - 또는 Firestore에서 직접 `user1` 사용자 데이터 삭제

2. **네비게이션 테스트**
   - 브라우저 캐시 클리어 후 다시 테스트
   - 대시보드 ↔ 업무 페이지 이동 시 데이터 일관성 확인

3. **Cron Job 개선 (향후)**
   - 사용자별로 개별 Slack 메시지 전송
   - 각 사용자의 `ownerId`로 필터링된 요약 생성
